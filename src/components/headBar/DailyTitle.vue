<script setup lang="ts">
import { useDailyStore } from '@/stores/daily'

const dailyStore = useDailyStore();
const editorState = dailyStore.editorState;

const emit = defineEmits(["click-edit-daily-title"]);
const editDailyTitle = () => {
  emit("click-edit-daily-title");
};
</script>
<template>
  <div class="daily-title" @click="editDailyTitle">
    <span class="content">{{ editorState.filename }}</span>
    <span class="action">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="1em"
        height="1em"
        fill="none"
        viewBox="0 0 24 24"
      >
        <path
          fill="currentColor"
          fill-rule="evenodd"
          d="m18.151 3.814-.715.716 1.134 1.134.715-.716zm-8.046 8.047 6.27-6.27 1.134 1.134-6.27 6.27-1.4.266zm-.667 3.512 2.174-.414a2 2 0 0 0 1.041-.55l8.754-8.754a1 1 0 0 0 0-1.414l-2.549-2.548a1 1 0 0 0-1.414 0l-8.753 8.753a2 2 0 0 0-.55 1.041l-.414 2.175-.027.144-.237 1.246a.5.5 0 0 0 .584.585l1.246-.237.144-.027M7.444 3.253c2.223-.846 4.838-.778 7.16.301l-1.535 1.534c-1.646-.574-3.407-.54-4.915.034-2.474.94-4.336 3.362-3.744 7.212.446 2.895 2.184 4.882 4.184 6.19 2.023 1.322 4.231 1.891 5.39 1.964a1 1 0 1 1-.124 1.996c-1.508-.094-4.05-.776-6.36-2.286-2.333-1.526-4.512-3.955-5.066-7.56-.736-4.78 1.652-8.11 5.01-9.386m6.854 15.725c-2.242-.28-4.011-1.304-5.21-2.317l2.802-.51a7.8 7.8 0 0 0 2.62.838c1.859.088 3.008-.236 3.703-.688.67-.436 1.024-1.059 1.162-1.839.233-1.323-.185-2.996-.809-4.433l1.488-1.537c.865 1.726 1.668 4.178 1.29 6.317-.216 1.229-.83 2.38-2.04 3.168-1.181.768-2.813 1.114-4.932 1.008l-.037-.002z"
          clip-rule="evenodd"
        ></path>
      </svg>
    </span>
  </div>
</template>
<style lang="scss" scoped>
.daily-title {
  display: flex;
  align-items: center;
  flex-direction: row;
  gap: 3px;
  padding: 2px 4px;
  border-radius: 4px;

  .action {
    display: none;
    font-size: 14px;
    color: #ababab;
    svg {
      width: 1em;
      height: 1em;
      fill: none;
    }
  }

  .content {
    font-weight: 600;
  }

  &:hover,
  &:focus-within {
    cursor: pointer;

    background: rgba(0, 87, 255, 0.1);

    .action {
      display: block;
    }
  }
}
</style>
